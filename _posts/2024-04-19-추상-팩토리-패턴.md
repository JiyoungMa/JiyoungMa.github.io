---
layout: post
title:  "3. ì¶”ìƒ íŒ©í† ë¦¬(Abstract factory) íŒ¨í„´"
date:   2024-04-19 00:42:00 +0900
categories: DesignPattern
---

# 3. ì¶”ìƒ íŒ©í† ë¦¬(Abstract factory) íŒ¨í„´

> **ğŸ˜‰ :** 'ì½”ë”©ìœ¼ë¡œ í•™ìŠµí•˜ëŠ” GoFì˜ ë””ìì¸ íŒ¨í„´' ê³µë¶€ ê¸°ë¡ì…ë‹ˆë‹¤.

<h4>ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ì´ë€? </h4>

<img width="805" alt="image" src="https://github.com/JiyoungMa/JiyoungMa.github.io/assets/50768959/cfff2b6a-f9a2-4efa-a2f6-5d7983a2d3bc">

: ê´€ë ¨ìˆëŠ” ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” íŒ©í† ë¦¬ë¥¼ ì¶”ìƒí™”ëœ í˜•íƒœë¡œ ì •ì˜í•˜ëŠ” íŒ¨í„´
íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ê³¼ ë§¤ìš° ë¹„ìŠ·í•˜ì§€ë§Œ ì´ˆì ì´ í´ë¼ì´ì–¸íŠ¸ìª½ì— ìˆë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤.

<h4>AS-IS</h4>

í•´ë‹¹ ë¶€ë¶„ì€ ì´ì „ ê¸€ì¸ [íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´](https://jiyoungma.github.io/posts/%ED%8C%A9%ED%86%A0%EB%A6%AC-%EB%A9%94%EC%86%8C%EB%93%9C-%ED%8C%A8%ED%84%B4/)ì˜ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ê¸° ë•Œë¬¸ì— í•´ë‹¹ ê¸€ì„ ë¨¼ì € ì½ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.

```Java
public class Book {
    private String type;

    private String color;

    private int pages;

    private Author author;
    
    private Publisher publisher;
}

public class NovelBookFactory implements BookFactory{
    @Override
    public Book createBook() {
        Book book = new NovelBook();
        book.setAuthor(new Author());
        book.setPublisher(new Publisher());
        return book;
    }
}
```

íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì˜ TO-BEì˜ Bookì— ì‘ê°€(Author)ì™€ ì¶œíŒì‚¬(Publisher)ê°€ ì¶”ê°€ëœ ìƒí™©ì´ë¼ê³  í•˜ì. ë§Œì•½ì— NovelBookFactoryì—ì„œ ì±…ì˜ ì‘ê°€ë‚˜ ì¶œíŒì‚¬ë¥¼ ì´ ìƒíƒœì—ì„œ ë³€ê²½í•˜ë ¤ë©´ NovelBookFactory ì½”ë“œì— ì§ì ‘ì ì¸ ìˆ˜ì •ì´ í•„ìš”í•˜ë‹¤.

<h4>TO-BE</h4>

```Java
public interface BookPartsFactory{
    Author createAuthor();
    Publisher createPublisher();
}

public class NovelBookPartsFactory implements BookPartsFactory{
    @Override
    public Author createAuthor(){
        return new NovelAuthor(); // interface Authorì˜ êµ¬í˜„ì²´
    }

    @Override
    public Publisher createPublisher(){
        return new NovelPublisher(); // interface Publisherì˜ êµ¬í˜„ì²´
    }
}

public class NovelBookFactory implements BookFactory{
    private BookPartsFactory bookPartsFactory;

    public NovelBookFactory(BookPartsFactory bookPartsFactory){
        this.bookPartsFactory = bookPartsFactory
    }

    @Override
    public Book createBook() {
        Book book = new NovelBook();
        book.setAuthor(bookPartsFactory.createAuthor());
        book.setPublisher(bookPartsFactory.creaetPublisher());
        return book;
    }
}
```

í•˜ì§€ë§Œ ìœ„ì™€ ê°™ì´ factory interfaceë¥¼ ì‚¬ìš©í•œë‹¤ë©´, NovelBookFactory ìƒì„± ì‹œ ì™¸ë¶€ì—ì„œ ì£¼ì…í•˜ëŠ” BookPartsFactoryë§Œ í•„ìš”ì— ë§ê²Œ ìˆ˜ì •í•˜ë©´ ì±…ì˜ êµ¬ì„±ìš”ì†Œë¥¼ ë°”ê¿€ ìˆ˜ ìˆë‹¤.

```Java
public class Example{
    public static void main(String[] args){
        BookFactory bookFactory = new NovelBookFactory(new NovelBookPartsFactory());
        Book book = bookFactory.createBook();
    }
}
```